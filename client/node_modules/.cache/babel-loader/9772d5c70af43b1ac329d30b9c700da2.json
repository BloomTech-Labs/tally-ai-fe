{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\Raudel Flores\\\\Documents\\\\Lambda-School\\\\LABS\\\\tally\\\\tally-ai-fe\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport { // Yelp Business Search\nFETCH_BUSINESS_START, FETCH_BUSINESS_SUCCESS, FETCH_BUSINESS_FAILURE // Select business from results\n, SELECT_BUSINESS_START, SELECT_BUSINESS_SUCCESS, SELECT_BUSINESS_FAILURE //adding businesses to user's owned businesses list\n, ADD_BUSINESS_START, ADD_BUSINESS_SUCCESS, ADD_BUSINESS_FAILURE //removing businesses from user's owned businesses list\n, REMOVE_BUSINESS_START, REMOVE_BUSINESS_SUCCESS, REMOVE_BUSINESS_FAILURE //adding competitors to user's competitor list\n, ADD_COMPETITOR_START, ADD_COMPETITOR_SUCCESS, ADD_COMPETITOR_FAILURE //removing competitors from user's competitor list\n, REMOVE_COMPETITOR_START, REMOVE_COMPETITOR_SUCCESS, REMOVE_COMPETITOR_FAILURE // Data for TopBottomWords\n, FETCH_TOP_AND_BOTTOM_START, FETCH_TOP_AND_BOTTOM_SUCCESS, FETCH_TOP_AND_BOTTOM_FAILURE //flag user data to be updated, this will GET_USER_DATA if it needs to\n, UPDATE_LOGGED_IN_USER //get all the user's data from backend\n, GET_USER_DATA_SUCCESS, GET_USER_DATA_START // Edit Account\n, FETCH_EDITACCOUNT_START, FETCH_EDITACCOUNT_SUCCESS, FETCH_EDITACCOUNT_FAILURE // Data for PhraseRank\n, FETCH_WORDS_OVER_TIME_START, FETCH_WORDS_OVER_TIME_SUCCESS, FETCH_WORDS_OVER_TIME_FAILURE // Data for ReviewFrequency\n, FETCH_REVIEWS_OVER_TIME_START, FETCH_REVIEWS_OVER_TIME_SUCCESS, FETCH_REVIEWS_OVER_TIME_FAILURE // Data for RatingOverTime\n, FETCH_RATING_OVER_TIME_START, FETCH_RATING_OVER_TIME_SUCCESS, FETCH_RATING_OVER_TIME_FAILURE, SET_ACTIVE_WIDGETS, SET_TABS_START, SET_TABS_SUCCESS, SET_TABS_FAILURE // SET_FAVORITES_START,\n// SET_FAVORITES_SUCCESS,\n// SET_FAVORITES_FAILURE,\n// ADD_FAVORITE_START,\n// ADD_FAVORITE_SUCCESS,\n// ADD_FAVORITE_FAILURE,\n// REMOVE_FAVORITE_START,\n// REMOVE_FAVORITE_SUCCESS,\n// REMOVE_FAVORITE_FAILURE\n, FETCH_RADAR_START, FETCH_RADAR_SUCCESS, FETCH_RADAR_FAILURE } from \"../actions/index.js\";\nimport dummyWordsOverTime from \"../dummyData/dummyWordsOverTime\";\nimport dummyReviewsOverTime from \"../dummyData/dummyReviewsOverTime\";\nimport { widgets } from \"../components/WidgetSystem/WidgetRegistry\";\nconst initialState = {\n  loggedInUser: {\n    data: {\n      firstName: null,\n      lastName: null\n    },\n    shouldUpdate: true,\n    isFetching: false,\n    error: null\n  },\n  searchResults: {\n    isFetching: false,\n    error: null,\n    data: null\n  },\n  //currently selected business, this is what the dashboard will always display\n  currentlySelectedBusiness: {\n    businessId: null,\n    //default tab selected by default\n    // for side bar\n    businessName: null,\n    businessImg: null,\n    // for top-of-page info cards\n    reviewCount: 0,\n    averageRating: 0,\n    changeInRating: \"\",\n    address: \"\"\n  },\n  // the user's businesses that they own\n  userBusinesses: {\n    isSetting: false,\n    error: null,\n    businesses: [// [{\n      //   businessId: \"jndajnsdj0202020\",\n      //   // for side bar\n      //   businessName: \"IOwnThisBusiness\",\n      //   businessImg: null,\n      //   // for top-of-page info cards\n      //   reviewCount: 0,\n      //   averageRating: 0,\n      //   changeInRating: \"\"\n      // }]\n    ]\n  },\n  competitors: {\n    //TODO: Change name to competitors\n    isSetting: false,\n    error: null,\n    businesses: [] // {\n    //   businessId: \"19878f9d6s77237-asd\",\n    //   // for side bar\n    //   businessName: \"Example Business\",\n    //   businessImg: \"https://assets.entrepreneur.com/franchise/282553-cover-image-1564755271.jpeg?width=800\",\n    //   // for top-of-page info cards\n    //   reviewCount: 0,\n    //   averageRating: 0,\n    //   changeInRating: \"\"\n    // },\n    // {\n    //   // for DS API calls\n    //   businessId: \"19878f9d6s71235assd\",\n    //   // for side bar\n    //   businessName: \"VERAMEAT\",\n    //   businessImg: \"https://www.shopkeep.com/wp-content/uploads/2016/07/retail-store_retail-business-plan-e1468443541681.jpg\",\n    //   // for top-of-page info cards\n    //   reviewCount: 0,\n    //   averageRating: 0,\n    //   changeInRating: \"\"\n    // },\n    // {\n    //   // for DS API calls\n    //   businessId: \"19878ffdgdfgb7237-asd\",\n    //   // for side bar\n    //   businessName: \"Bicycles\",\n    //   businessImg: \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTshfmpFtjour-4iJgDPY7uZ0Ki3Kua13zPonqqdiSAu27YFsW48Q&s\",\n    //   // for top-of-page info cards\n    //   reviewCount: 0,\n    //   averageRating: 0,\n    //   changeInRating: \"\"\n    // }\n    //array of businesses\n\n  },\n  //Defaults to [widgets[0].name, widgets[1].name]. Later we can load some saved dashboard widgets from the db (should still have a default value here so they don't start out with an empty dashboard)\n  //Array order really matters with activeWidgets, since it determines in which order they'll render. When the user drags an element to a new position on the screen, we need to translate that position to array position\n  activeWidgets: [widgets[0].name, widgets[1].name],\n  //array of open tabs and the IDs of the businesses they display, anything that's not an actual business ID, like \"defaultTab\", will just be New Tabs.\n  //In this case we default to 1 open New Tab, this will be replaced if the user has any previously open tabs in their preferences from the database.\n  tabs: {\n    activeTabs: [{\n      businessId: \"defaultTab\"\n    }],\n    //isCompetitor used to color tab depending on if you own the business or if its a competitor\n    isFetching: false,\n    error: null\n  },\n  // Data for populating the visuals\n  widgetData: {\n    // TopBottomWords\n    keyWords: {\n      isFetching: false,\n      error: null,\n      data: {\n        positive: [],\n        negative: []\n      }\n    },\n    // PhraseRank\n    wordsOverTime: {\n      isFetching: false,\n      error: null,\n      data: null\n    },\n    // ReviewFrequency\n    reviewsOverTime: {\n      isFetching: false,\n      error: null,\n      data: null\n    },\n    // RatingOverTime\n    ratingOverTime: {\n      isFetching: false,\n      error: null,\n      data: null\n    },\n    radarWidget: {\n      isFetching: false,\n      error: null,\n      data: null\n    }\n  }\n};\n\nfunction reducer(state = initialState, action) {\n  console.log(\"Reducer working, current action: \", action.type, \" Payload: \", action.payload); //TODO: seperate this switch into multiple files, it's way too long\n\n  switch (action.type) {\n    case FETCH_RADAR_START:\n      return _objectSpread({}, state, {\n        widgetData: _objectSpread({}, state.widgetData, {\n          radarWidget: _objectSpread({}, state.radarWidget, {\n            isFetching: true,\n            error: null\n          })\n        })\n      });\n\n    case FETCH_RADAR_SUCCESS:\n      return _objectSpread({}, state, {\n        widgetData: _objectSpread({}, state.widgetData, {\n          radarWidget: {\n            isFetching: false,\n            error: null,\n            data: action.payload\n          }\n        })\n      });\n\n    case FETCH_RADAR_FAILURE:\n      return _objectSpread({}, state, {\n        widgetData: _objectSpread({}, state.widgetData, {\n          radarWidget: _objectSpread({}, state.radarWidget, {\n            isFetching: false,\n            error: action.payload\n          })\n        })\n      });\n\n    case SET_TABS_START:\n      return _objectSpread({}, state, {\n        tabs: {\n          activeTabs: action.payload,\n          isFetching: true,\n          error: null\n        }\n      });\n\n    case SET_TABS_SUCCESS:\n      return _objectSpread({}, state, {\n        tabs: _objectSpread({}, state.tabs, {\n          isFetching: false,\n          error: null\n        })\n      });\n\n    case SET_TABS_FAILURE:\n      return _objectSpread({}, state, {\n        tabs: {\n          activeTabs: action.payload,\n          isFetching: false,\n          error: null //idec\n\n        }\n      });\n    // Yelp Business Search\n\n    case FETCH_BUSINESS_START:\n      return _objectSpread({}, state, {\n        searchResults: _objectSpread({}, state.searchResults, {\n          isFetching: true,\n          error: null\n        })\n      });\n\n    case FETCH_BUSINESS_SUCCESS:\n      console.log(\"FETCH SUCCESS! Payload:\", action.payload);\n      return _objectSpread({}, state, {\n        searchResults: _objectSpread({}, state.searchResults, {\n          isFetching: false,\n          // data: action.payload\n          data: action.payload,\n          error: null\n        })\n      });\n\n    case FETCH_BUSINESS_FAILURE:\n      return _objectSpread({}, state, {\n        searchResults: _objectSpread({}, state.searchResults, {\n          isFetching: false,\n          error: action.payload\n        })\n      });\n    // Select business\n\n    case SELECT_BUSINESS_START:\n      return _objectSpread({}, state, {\n        currentlySelectedBusiness: _objectSpread({}, action.payload) //set data immediatly (missing data that we're waiting on Yelp for)\n\n      });\n\n    case SELECT_BUSINESS_SUCCESS:\n      return _objectSpread({}, state, {\n        currentlySelectedBusiness: _objectSpread({}, action.payload) //fill in the new address, rating and review count info\n\n      });\n\n    case SELECT_BUSINESS_FAILURE:\n      return _objectSpread({}, state, {\n        currentlySelectedBusiness: _objectSpread({}, action.payload) //revert back to old data\n\n      });\n    //adding businesses to user's owned businesses list\n\n    case ADD_BUSINESS_START:\n      console.log(\"ADDDDDDD BUSINESSS STARTTT\");\n      return _objectSpread({}, state, {\n        userBusinesses: _objectSpread({}, state.userBusinesses, {\n          isSetting: true,\n          error: null\n        })\n      });\n\n    case ADD_BUSINESS_SUCCESS:\n      return _objectSpread({}, state, {\n        userBusinesses: {\n          businesses: action.payload.businesses.map(business => {\n            return {\n              id: business.id,\n              businessId: business.yelp_id,\n              //default tab selected by default\n              // for side bar\n              businessName: business.name,\n              businessImg: business.image_url,\n              // for top-of-page info cards\n              reviewCount: 0,\n              averageRating: 0,\n              changeInRating: \"\"\n            };\n          }),\n          isSetting: false,\n          error: null\n        }\n      });\n\n    case ADD_BUSINESS_FAILURE:\n      return _objectSpread({}, state, {\n        userBusinesses: _objectSpread({}, state.userBusinesses, {\n          isSetting: false,\n          error: action.payload\n        })\n      });\n    //removing businesses from user's owned businesses list\n\n    case REMOVE_BUSINESS_START:\n      return _objectSpread({}, state, {\n        userBusinesses: _objectSpread({}, state.userBusinesses, {\n          isSetting: true,\n          error: null\n        })\n      });\n\n    case REMOVE_BUSINESS_SUCCESS:\n      return _objectSpread({}, state, {\n        userBusinesses: {\n          businesses: action.payload.businesses.map(business => {\n            return {\n              id: business.id,\n              businessId: business.yelp_id,\n              //default tab selected by default\n              // for side bar\n              businessName: business.name,\n              businessImg: business.image_url,\n              // for top-of-page info cards\n              reviewCount: 0,\n              averageRating: 0,\n              changeInRating: \"\"\n            };\n          }),\n          isSetting: false,\n          error: null\n        }\n      });\n\n    case REMOVE_BUSINESS_FAILURE:\n      return _objectSpread({}, state, {\n        userBusinesses: _objectSpread({}, state.userBusinesses, {\n          isSetting: false,\n          error: action.payload\n        })\n      });\n    //adding competitors to user's competitor list\n\n    case ADD_COMPETITOR_START:\n      return _objectSpread({}, state, {\n        competitors: _objectSpread({}, state.competitors, {\n          isSetting: true,\n          error: null\n        })\n      });\n\n    case ADD_COMPETITOR_SUCCESS:\n      return _objectSpread({}, state, {\n        competitors: {\n          businesses: action.payload.favorites.map(business => {\n            return {\n              id: business.id,\n              businessId: business.yelp_id,\n              //default tab selected by default\n              // for side bar\n              businessName: business.name,\n              businessImg: business.image_url,\n              // for top-of-page info cards\n              reviewCount: 0,\n              averageRating: 0,\n              changeInRating: \"\"\n            };\n          }),\n          isSetting: false,\n          error: null\n        }\n      });\n\n    case ADD_COMPETITOR_FAILURE:\n      return _objectSpread({}, state, {\n        competitors: _objectSpread({}, state.competitors, {\n          isSetting: false,\n          error: action.payload\n        })\n      });\n    //removing competitors from user's competitor list\n\n    case REMOVE_COMPETITOR_START:\n      return _objectSpread({}, state, {\n        competitors: _objectSpread({}, state.competitors, {\n          isSetting: true,\n          error: null\n        })\n      });\n\n    case REMOVE_COMPETITOR_SUCCESS:\n      return _objectSpread({}, state, {\n        competitors: {\n          businesses: action.payload.favorites.map(business => {\n            return {\n              id: business.id,\n              businessId: business.yelp_id,\n              //default tab selected by default\n              // for side bar\n              businessName: business.name,\n              businessImg: business.image_url,\n              // for top-of-page info cards\n              reviewCount: 0,\n              averageRating: 0,\n              changeInRating: \"\"\n            };\n          }),\n          isSetting: false,\n          error: null\n        }\n      });\n\n    case REMOVE_COMPETITOR_FAILURE:\n      return _objectSpread({}, state, {\n        competitors: _objectSpread({}, state.competitors, {\n          isSetting: false,\n          error: action.payload\n        })\n      });\n\n    case SET_ACTIVE_WIDGETS:\n      return _objectSpread({}, state, {\n        activeWidgets: action.payload\n      });\n    // TopBottomWords\n\n    case FETCH_TOP_AND_BOTTOM_START:\n      console.log(\"Fetch top and bottom words start..\");\n      return _objectSpread({}, state, {\n        widgetData: _objectSpread({}, state.widgetData, {\n          keyWords: _objectSpread({}, state.widgetData.keyWords, {\n            isFetching: true,\n            error: null\n          })\n        })\n      });\n\n    case FETCH_TOP_AND_BOTTOM_SUCCESS:\n      console.log(\"Successfully fetched top and bottom ten words:\\n\", action.payload);\n      return _objectSpread({}, state, {\n        widgetData: _objectSpread({}, state.widgetData, {\n          keyWords: {\n            isFetching: false,\n            data: action.payload,\n            error: null\n          }\n        })\n      });\n\n    case FETCH_TOP_AND_BOTTOM_FAILURE:\n      console.log(\"Fetch top and bottom failure:\\n\", action.payload);\n      return _objectSpread({}, state, {\n        widgetData: _objectSpread({}, state.widgetData, {\n          keyWords: _objectSpread({}, state.widgetData.keyWords, {\n            isFetching: false,\n            error: action.payload\n          })\n        })\n      });\n\n    case GET_USER_DATA_START:\n      return _objectSpread({}, state, {\n        loggedInUser: _objectSpread({}, state.loggedInUser, {\n          isFetching: true\n        })\n      });\n\n    case GET_USER_DATA_SUCCESS:\n      // action.payload: {\n      //   favorites\n      //   loggedInUser\n      //   businessInfo\n      //   activeWidgets\n      // }\n      // //only set state if not null\n      // let tempFavorites = state.favorites.favorites;\n      // if(action.payload.favorites){\n      //   tempFavorites = action.payload.favorites;\n      // }\n      // let tempLoggedInUser = state.loggedInUser.data\n      // if(action.payload.loggedInUser){\n      //   tempLoggedInUser = action.payload.loggedInUser;\n      // }\n      // let tempBusinessInfo = state.businessInfo.businesses;\n      // if(action.payload.businessInfo){\n      //   tempBusinessInfo = action.payload.businessInfo;\n      // }\n      // let tempActiveWidgets = state.activeWidgets;\n      // if(action.payload.activeWidgets){\n      //   tempActiveWidgets = action.payload.activeWidgets;\n      // }\n      console.log(\"Mapping over competitors\", action.payload.competitors);\n      return _objectSpread({}, state, {\n        competitors: _objectSpread({}, state.competitors, {\n          businesses: action.payload.competitors.map(business => {\n            return {\n              //id: 16\n              // name: \"Cartel Coffee Lab\"\n              // city: \"Phoenix\"\n              // state: \"AZ\"\n              // yelp:\n              // yelp_id: \"j0_DUr3vBXY-JP-b0bf93A\"\n              // url: \"https://www.yelp.com/biz/cartel-coffee-lab-phoenix-2?adjust_creative=qO78hV4p7yy-o3z8K5osow&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=qO78hV4p7yy-o3z8K5osow\"\n              // image_url:\n              id: business.id,\n              businessId: business.yelp.yelp_id,\n              //default tab selected by default\n              // for side bar\n              businessName: business.name,\n              businessImg: business.yelp.image_url,\n              // for top-of-page info cards\n              reviewCount: 0,\n              averageRating: 0,\n              changeInRating: \"\"\n            };\n          }),\n          isSetting: false,\n          error: null\n        }),\n        loggedInUser: _objectSpread({}, state.loggedInUser, {\n          data: action.payload.loggedInUser,\n          isFetching: false\n        }),\n        userBusinesses: _objectSpread({}, state.userBusinesses, {\n          businesses: action.payload.businesses.map(business => {\n            return {\n              id: business.id,\n              businessId: business.yelp.yelp_id,\n              //default tab selected by default\n              // for side bar\n              businessName: business.name,\n              businessImg: business.yelp.image_url,\n              // for top-of-page info cards\n              reviewCount: 0,\n              averageRating: 0,\n              changeInRating: \"\"\n            };\n          }),\n          isSetting: false,\n          error: null\n        }),\n        activeWidgets: [widgets[0].name, widgets[1].name],\n        tabs: _objectSpread({}, state.tabs, {\n          activeTabs: action.payload.activeTabs\n        })\n      });\n\n    case UPDATE_LOGGED_IN_USER:\n      return _objectSpread({}, state, {\n        loggedInUser: _objectSpread({}, state.loggedInUser, {\n          shouldUpdate: action.payload\n        })\n      });\n    // Edit Account\n\n    case FETCH_EDITACCOUNT_START:\n      return _objectSpread({}, state, {\n        loggedInUser: _objectSpread({}, state.loggedInUser, {\n          isFetching: true,\n          error: null\n        })\n      });\n\n    case FETCH_EDITACCOUNT_SUCCESS:\n      //TODO: update activeWidgets with action.payload.preferences.widgets\n      return _objectSpread({}, state, {\n        loggedInUser: {\n          data: {\n            firstName: action.payload.first_name ? action.payload.first_name : state.loggedInUser.data.firstName,\n            lastName: action.payload.last_name_name ? action.payload.last_name : state.loggedInUser.data.lastName\n          },\n          isFetching: false,\n          error: null\n        }\n      });\n\n    case FETCH_EDITACCOUNT_FAILURE:\n      return _objectSpread({}, state, {\n        isFetching: false,\n        error: action.payload\n      });\n    // PhraseRank\n\n    case FETCH_WORDS_OVER_TIME_START:\n      return _objectSpread({}, state, {\n        widgetData: _objectSpread({}, state.widgetData, {\n          wordsOverTime: _objectSpread({}, state.widgetData.wordsOverTime, {\n            isFetching: true,\n            error: null\n          })\n        })\n      });\n\n    case FETCH_WORDS_OVER_TIME_SUCCESS:\n      return _objectSpread({}, state, {\n        widgetData: _objectSpread({}, state.widgetData, {\n          wordsOverTime: _objectSpread({}, state.widgetData.wordsOverTime, {\n            isFetching: false,\n            data: action.payload.data,\n            error: null\n          })\n        })\n      });\n\n    case FETCH_WORDS_OVER_TIME_FAILURE:\n      return _objectSpread({}, state, {\n        widgetData: _objectSpread({}, state.widgetData, {\n          wordsOverTime: _objectSpread({}, state.widgetData.wordsOverTime, {\n            isFetching: false,\n            error: action.payload\n          })\n        })\n      });\n    // ReviewFrequency\n\n    case FETCH_REVIEWS_OVER_TIME_START:\n      return _objectSpread({}, state, {\n        widgetData: _objectSpread({}, state.widgetData, {\n          reviewsOverTime: _objectSpread({}, state.widgetData.reviewsOverTime, {\n            isFetching: true,\n            error: null\n          })\n        })\n      });\n\n    case FETCH_REVIEWS_OVER_TIME_SUCCESS:\n      return _objectSpread({}, state, {\n        widgetData: _objectSpread({}, state.widgetData, {\n          reviewsOverTime: _objectSpread({}, state.widgetData.reviewsOverTime, {\n            isFetching: false,\n            data: action.payload.data\n          })\n        })\n      });\n\n    case FETCH_REVIEWS_OVER_TIME_FAILURE:\n      return _objectSpread({}, state, {\n        widgetData: _objectSpread({}, state.widgetData, {\n          reviewsOverTime: _objectSpread({}, state.widgetData.reviewsOverTime, {\n            isFetching: true,\n            data: null,\n            error: action.payload\n          })\n        })\n      });\n    // RatingOverTime\n\n    case FETCH_RATING_OVER_TIME_START:\n      return _objectSpread({}, state, {\n        widgetData: _objectSpread({}, state.widgetData, {\n          ratingOverTime: _objectSpread({}, state.widgetData.ratingOverTime, {\n            isFetching: true,\n            error: null\n          })\n        })\n      });\n\n    case FETCH_RATING_OVER_TIME_SUCCESS:\n      return _objectSpread({}, state, {\n        widgetData: _objectSpread({}, state.widgetData, {\n          ratingOverTime: _objectSpread({}, state.widgetData.ratingOverTime, {\n            isFetching: false,\n            data: action.payload.star_data,\n            error: null\n          })\n        })\n      });\n\n    case FETCH_RATING_OVER_TIME_FAILURE:\n      return _objectSpread({}, state, {\n        widgetData: _objectSpread({}, state.widgetData, {\n          ratingOverTime: _objectSpread({}, state.widgetData.ratingOverTime, {\n            isFetching: false,\n            error: action.payload\n          })\n        })\n      });\n    // Unknown action type (default)\n\n    default:\n      console.log(`\\nUnknown action type:\\n${action.type}`);\n      return _objectSpread({}, state);\n  }\n}\n\nexport default reducer;","map":{"version":3,"sources":["C:/Users/Raudel Flores/Documents/Lambda-School/LABS/tally/tally-ai-fe/client/src/reducers/index.js"],"names":["FETCH_BUSINESS_START","FETCH_BUSINESS_SUCCESS","FETCH_BUSINESS_FAILURE","SELECT_BUSINESS_START","SELECT_BUSINESS_SUCCESS","SELECT_BUSINESS_FAILURE","ADD_BUSINESS_START","ADD_BUSINESS_SUCCESS","ADD_BUSINESS_FAILURE","REMOVE_BUSINESS_START","REMOVE_BUSINESS_SUCCESS","REMOVE_BUSINESS_FAILURE","ADD_COMPETITOR_START","ADD_COMPETITOR_SUCCESS","ADD_COMPETITOR_FAILURE","REMOVE_COMPETITOR_START","REMOVE_COMPETITOR_SUCCESS","REMOVE_COMPETITOR_FAILURE","FETCH_TOP_AND_BOTTOM_START","FETCH_TOP_AND_BOTTOM_SUCCESS","FETCH_TOP_AND_BOTTOM_FAILURE","UPDATE_LOGGED_IN_USER","GET_USER_DATA_SUCCESS","GET_USER_DATA_START","FETCH_EDITACCOUNT_START","FETCH_EDITACCOUNT_SUCCESS","FETCH_EDITACCOUNT_FAILURE","FETCH_WORDS_OVER_TIME_START","FETCH_WORDS_OVER_TIME_SUCCESS","FETCH_WORDS_OVER_TIME_FAILURE","FETCH_REVIEWS_OVER_TIME_START","FETCH_REVIEWS_OVER_TIME_SUCCESS","FETCH_REVIEWS_OVER_TIME_FAILURE","FETCH_RATING_OVER_TIME_START","FETCH_RATING_OVER_TIME_SUCCESS","FETCH_RATING_OVER_TIME_FAILURE","SET_ACTIVE_WIDGETS","SET_TABS_START","SET_TABS_SUCCESS","SET_TABS_FAILURE","FETCH_RADAR_START","FETCH_RADAR_SUCCESS","FETCH_RADAR_FAILURE","dummyWordsOverTime","dummyReviewsOverTime","widgets","initialState","loggedInUser","data","firstName","lastName","shouldUpdate","isFetching","error","searchResults","currentlySelectedBusiness","businessId","businessName","businessImg","reviewCount","averageRating","changeInRating","address","userBusinesses","isSetting","businesses","competitors","activeWidgets","name","tabs","activeTabs","widgetData","keyWords","positive","negative","wordsOverTime","reviewsOverTime","ratingOverTime","radarWidget","reducer","state","action","console","log","type","payload","map","business","id","yelp_id","image_url","favorites","yelp","first_name","last_name_name","last_name","star_data"],"mappings":"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","sourcesContent":["import {\r\n  // Yelp Business Search\r\n  FETCH_BUSINESS_START,\r\n  FETCH_BUSINESS_SUCCESS,\r\n  FETCH_BUSINESS_FAILURE,\r\n  // Select business from results\r\n  SELECT_BUSINESS_START,\r\n  SELECT_BUSINESS_SUCCESS,\r\n  SELECT_BUSINESS_FAILURE,\r\n\r\n  //adding businesses to user's owned businesses list\r\n  ADD_BUSINESS_START,\r\n  ADD_BUSINESS_SUCCESS,\r\n  ADD_BUSINESS_FAILURE,\r\n\r\n  //removing businesses from user's owned businesses list\r\n  REMOVE_BUSINESS_START,\r\n  REMOVE_BUSINESS_SUCCESS,\r\n  REMOVE_BUSINESS_FAILURE,\r\n\r\n  //adding competitors to user's competitor list\r\n  ADD_COMPETITOR_START,\r\n  ADD_COMPETITOR_SUCCESS,\r\n  ADD_COMPETITOR_FAILURE,\r\n\r\n  //removing competitors from user's competitor list\r\n  REMOVE_COMPETITOR_START,\r\n  REMOVE_COMPETITOR_SUCCESS,\r\n  REMOVE_COMPETITOR_FAILURE,\r\n\r\n  // Data for TopBottomWords\r\n  FETCH_TOP_AND_BOTTOM_START,\r\n  FETCH_TOP_AND_BOTTOM_SUCCESS,\r\n  FETCH_TOP_AND_BOTTOM_FAILURE,\r\n\r\n  //flag user data to be updated, this will GET_USER_DATA if it needs to\r\n  UPDATE_LOGGED_IN_USER,\r\n\r\n  //get all the user's data from backend\r\n  GET_USER_DATA_SUCCESS,\r\n  GET_USER_DATA_START,\r\n\r\n  // Edit Account\r\n  FETCH_EDITACCOUNT_START,\r\n  FETCH_EDITACCOUNT_SUCCESS,\r\n  FETCH_EDITACCOUNT_FAILURE,\r\n  // Data for PhraseRank\r\n  FETCH_WORDS_OVER_TIME_START,\r\n  FETCH_WORDS_OVER_TIME_SUCCESS,\r\n  FETCH_WORDS_OVER_TIME_FAILURE,\r\n  // Data for ReviewFrequency\r\n  FETCH_REVIEWS_OVER_TIME_START,\r\n  FETCH_REVIEWS_OVER_TIME_SUCCESS,\r\n  FETCH_REVIEWS_OVER_TIME_FAILURE,\r\n  // Data for RatingOverTime\r\n  FETCH_RATING_OVER_TIME_START,\r\n  FETCH_RATING_OVER_TIME_SUCCESS,\r\n  FETCH_RATING_OVER_TIME_FAILURE,\r\n  SET_ACTIVE_WIDGETS,\r\n  SET_TABS_START,\r\n  SET_TABS_SUCCESS,\r\n  SET_TABS_FAILURE,\r\n\r\n  // SET_FAVORITES_START,\r\n  // SET_FAVORITES_SUCCESS,\r\n  // SET_FAVORITES_FAILURE,\r\n\r\n  // ADD_FAVORITE_START,\r\n  // ADD_FAVORITE_SUCCESS,\r\n  // ADD_FAVORITE_FAILURE,\r\n\r\n  // REMOVE_FAVORITE_START,\r\n  // REMOVE_FAVORITE_SUCCESS,\r\n  // REMOVE_FAVORITE_FAILURE\r\n  FETCH_RADAR_START,\r\n  FETCH_RADAR_SUCCESS,\r\n  FETCH_RADAR_FAILURE\r\n} from \"../actions/index.js\";\r\n\r\nimport dummyWordsOverTime from \"../dummyData/dummyWordsOverTime\";\r\nimport dummyReviewsOverTime from \"../dummyData/dummyReviewsOverTime\";\r\n\r\nimport { widgets } from \"../components/WidgetSystem/WidgetRegistry\";\r\n\r\nconst initialState = {\r\n  loggedInUser: {\r\n    data: {\r\n      firstName: null,\r\n      lastName: null\r\n    },\r\n    shouldUpdate: true,\r\n    isFetching: false,\r\n    error: null\r\n  },\r\n\r\n  searchResults: {\r\n    isFetching: false,\r\n    error: null,\r\n    data: null\r\n  },\r\n\r\n  //currently selected business, this is what the dashboard will always display\r\n  currentlySelectedBusiness: {\r\n    businessId: null, //default tab selected by default\r\n    // for side bar\r\n    businessName: null,\r\n    businessImg: null,\r\n    // for top-of-page info cards\r\n    reviewCount: 0,\r\n    averageRating: 0,\r\n    changeInRating: \"\",\r\n    address: \"\"\r\n  },\r\n\r\n  // the user's businesses that they own\r\n  userBusinesses: {\r\n    isSetting: false,\r\n    error: null,\r\n    businesses: [\r\n      // [{\r\n      //   businessId: \"jndajnsdj0202020\",\r\n      //   // for side bar\r\n      //   businessName: \"IOwnThisBusiness\",\r\n      //   businessImg: null,\r\n      //   // for top-of-page info cards\r\n      //   reviewCount: 0,\r\n      //   averageRating: 0,\r\n      //   changeInRating: \"\"\r\n      // }]\r\n    ]\r\n  },\r\n\r\n  competitors: {\r\n    //TODO: Change name to competitors\r\n    isSetting: false,\r\n    error: null,\r\n    businesses: [\r\n      // {\r\n      //   businessId: \"19878f9d6s77237-asd\",\r\n      //   // for side bar\r\n      //   businessName: \"Example Business\",\r\n      //   businessImg: \"https://assets.entrepreneur.com/franchise/282553-cover-image-1564755271.jpeg?width=800\",\r\n      //   // for top-of-page info cards\r\n      //   reviewCount: 0,\r\n      //   averageRating: 0,\r\n      //   changeInRating: \"\"\r\n      // },\r\n      // {\r\n      //   // for DS API calls\r\n      //   businessId: \"19878f9d6s71235assd\",\r\n      //   // for side bar\r\n      //   businessName: \"VERAMEAT\",\r\n      //   businessImg: \"https://www.shopkeep.com/wp-content/uploads/2016/07/retail-store_retail-business-plan-e1468443541681.jpg\",\r\n      //   // for top-of-page info cards\r\n      //   reviewCount: 0,\r\n      //   averageRating: 0,\r\n      //   changeInRating: \"\"\r\n      // },\r\n      // {\r\n      //   // for DS API calls\r\n      //   businessId: \"19878ffdgdfgb7237-asd\",\r\n      //   // for side bar\r\n      //   businessName: \"Bicycles\",\r\n      //   businessImg: \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTshfmpFtjour-4iJgDPY7uZ0Ki3Kua13zPonqqdiSAu27YFsW48Q&s\",\r\n      //   // for top-of-page info cards\r\n      //   reviewCount: 0,\r\n      //   averageRating: 0,\r\n      //   changeInRating: \"\"\r\n      // }\r\n    ] //array of businesses\r\n  },\r\n  //Defaults to [widgets[0].name, widgets[1].name]. Later we can load some saved dashboard widgets from the db (should still have a default value here so they don't start out with an empty dashboard)\r\n  //Array order really matters with activeWidgets, since it determines in which order they'll render. When the user drags an element to a new position on the screen, we need to translate that position to array position\r\n  activeWidgets: [widgets[0].name, widgets[1].name],\r\n\r\n  //array of open tabs and the IDs of the businesses they display, anything that's not an actual business ID, like \"defaultTab\", will just be New Tabs.\r\n  //In this case we default to 1 open New Tab, this will be replaced if the user has any previously open tabs in their preferences from the database.\r\n  tabs: {\r\n    activeTabs: [{ businessId: \"defaultTab\" }], //isCompetitor used to color tab depending on if you own the business or if its a competitor\r\n    isFetching: false,\r\n    error: null\r\n  },\r\n\r\n  // Data for populating the visuals\r\n  widgetData: {\r\n    // TopBottomWords\r\n    keyWords: {\r\n      isFetching: false,\r\n      error: null,\r\n      data: {\r\n        positive: [],\r\n        negative: []\r\n      }\r\n    },\r\n    // PhraseRank\r\n    wordsOverTime: {\r\n      isFetching: false,\r\n      error: null,\r\n      data: null\r\n    },\r\n    // ReviewFrequency\r\n    reviewsOverTime: {\r\n      isFetching: false,\r\n      error: null,\r\n      data: null\r\n    },\r\n    // RatingOverTime\r\n    ratingOverTime: {\r\n      isFetching: false,\r\n      error: null,\r\n      data: null\r\n    },\r\n\r\n    radarWidget: {\r\n      isFetching: false,\r\n      error: null,\r\n      data: null\r\n    }\r\n  }\r\n};\r\n\r\nfunction reducer(state = initialState, action) {\r\n  console.log(\r\n    \"Reducer working, current action: \",\r\n    action.type,\r\n    \" Payload: \",\r\n    action.payload\r\n  );\r\n\r\n  //TODO: seperate this switch into multiple files, it's way too long\r\n  switch (action.type) {\r\n    case FETCH_RADAR_START:\r\n      return {\r\n        ...state,\r\n        widgetData: {\r\n          ...state.widgetData,\r\n          radarWidget: {\r\n            ...state.radarWidget,\r\n            isFetching: true,\r\n            error: null\r\n          }\r\n        }\r\n      };\r\n    case FETCH_RADAR_SUCCESS:\r\n      return {\r\n        ...state,\r\n        widgetData: {\r\n          ...state.widgetData,\r\n          radarWidget: {\r\n            isFetching: false,\r\n            error: null,\r\n            data: action.payload\r\n          }\r\n        }\r\n      };\r\n    case FETCH_RADAR_FAILURE:\r\n      return {\r\n        ...state,\r\n        widgetData: {\r\n          ...state.widgetData,\r\n          radarWidget: {\r\n            ...state.radarWidget,\r\n            isFetching: false,\r\n            error: action.payload\r\n          }\r\n        }\r\n      };\r\n    case SET_TABS_START:\r\n      return {\r\n        ...state,\r\n        tabs: {\r\n          activeTabs: action.payload,\r\n          isFetching: true,\r\n          error: null\r\n        }\r\n      };\r\n    case SET_TABS_SUCCESS:\r\n      return {\r\n        ...state,\r\n        tabs: {\r\n          ...state.tabs,\r\n          isFetching: false,\r\n          error: null\r\n        }\r\n      };\r\n    case SET_TABS_FAILURE:\r\n      return {\r\n        ...state,\r\n        tabs: {\r\n          activeTabs: action.payload,\r\n          isFetching: false,\r\n          error: null //idec\r\n        }\r\n      };\r\n\r\n    // Yelp Business Search\r\n    case FETCH_BUSINESS_START:\r\n      return {\r\n        ...state,\r\n        searchResults: {\r\n          ...state.searchResults,\r\n          isFetching: true,\r\n          error: null\r\n        }\r\n      };\r\n    case FETCH_BUSINESS_SUCCESS:\r\n      console.log(\"FETCH SUCCESS! Payload:\", action.payload);\r\n      return {\r\n        ...state,\r\n        searchResults: {\r\n          ...state.searchResults,\r\n          isFetching: false,\r\n          // data: action.payload\r\n          data: action.payload,\r\n          error: null\r\n        }\r\n      };\r\n    case FETCH_BUSINESS_FAILURE:\r\n      return {\r\n        ...state,\r\n        searchResults: {\r\n          ...state.searchResults,\r\n          isFetching: false,\r\n          error: action.payload\r\n        }\r\n      };\r\n\r\n    // Select business\r\n    case SELECT_BUSINESS_START:\r\n      return {\r\n        ...state,\r\n        currentlySelectedBusiness: { ...action.payload } //set data immediatly (missing data that we're waiting on Yelp for)\r\n      };\r\n    case SELECT_BUSINESS_SUCCESS:\r\n      return {\r\n        ...state,\r\n        currentlySelectedBusiness: { ...action.payload } //fill in the new address, rating and review count info\r\n      };\r\n    case SELECT_BUSINESS_FAILURE:\r\n      return {\r\n        ...state,\r\n        currentlySelectedBusiness: { ...action.payload } //revert back to old data\r\n      };\r\n\r\n    //adding businesses to user's owned businesses list\r\n    case ADD_BUSINESS_START:\r\n      console.log(\"ADDDDDDD BUSINESSS STARTTT\");\r\n      return {\r\n        ...state,\r\n        userBusinesses: {\r\n          ...state.userBusinesses,\r\n          isSetting: true,\r\n          error: null\r\n        }\r\n      };\r\n    case ADD_BUSINESS_SUCCESS:\r\n      return {\r\n        ...state,\r\n        userBusinesses: {\r\n          businesses: action.payload.businesses.map(business => {\r\n            return {\r\n              id: business.id,\r\n              businessId: business.yelp_id, //default tab selected by default\r\n              // for side bar\r\n              businessName: business.name,\r\n              businessImg: business.image_url,\r\n              // for top-of-page info cards\r\n              reviewCount: 0,\r\n              averageRating: 0,\r\n              changeInRating: \"\"\r\n            };\r\n          }),\r\n          isSetting: false,\r\n          error: null\r\n        }\r\n      };\r\n    case ADD_BUSINESS_FAILURE:\r\n      return {\r\n        ...state,\r\n        userBusinesses: {\r\n          ...state.userBusinesses,\r\n          isSetting: false,\r\n          error: action.payload\r\n        }\r\n      };\r\n\r\n    //removing businesses from user's owned businesses list\r\n    case REMOVE_BUSINESS_START:\r\n      return {\r\n        ...state,\r\n        userBusinesses: {\r\n          ...state.userBusinesses,\r\n          isSetting: true,\r\n          error: null\r\n        }\r\n      };\r\n\r\n    case REMOVE_BUSINESS_SUCCESS:\r\n      return {\r\n        ...state,\r\n        userBusinesses: {\r\n          businesses: action.payload.businesses.map(business => {\r\n            return {\r\n              id: business.id,\r\n              businessId: business.yelp_id, //default tab selected by default\r\n              // for side bar\r\n              businessName: business.name,\r\n              businessImg: business.image_url,\r\n              // for top-of-page info cards\r\n              reviewCount: 0,\r\n              averageRating: 0,\r\n              changeInRating: \"\"\r\n            };\r\n          }),\r\n          isSetting: false,\r\n          error: null\r\n        }\r\n      };\r\n    case REMOVE_BUSINESS_FAILURE:\r\n      return {\r\n        ...state,\r\n        userBusinesses: {\r\n          ...state.userBusinesses,\r\n          isSetting: false,\r\n          error: action.payload\r\n        }\r\n      };\r\n\r\n    //adding competitors to user's competitor list\r\n    case ADD_COMPETITOR_START:\r\n      return {\r\n        ...state,\r\n        competitors: {\r\n          ...state.competitors,\r\n          isSetting: true,\r\n          error: null\r\n        }\r\n      };\r\n    case ADD_COMPETITOR_SUCCESS:\r\n      return {\r\n        ...state,\r\n        competitors: {\r\n          businesses: action.payload.favorites.map(business => {\r\n            return {\r\n              id: business.id,\r\n              businessId: business.yelp_id, //default tab selected by default\r\n              // for side bar\r\n              businessName: business.name,\r\n              businessImg: business.image_url,\r\n              // for top-of-page info cards\r\n              reviewCount: 0,\r\n              averageRating: 0,\r\n              changeInRating: \"\"\r\n            };\r\n          }),\r\n          isSetting: false,\r\n          error: null\r\n        }\r\n      };\r\n    case ADD_COMPETITOR_FAILURE:\r\n      return {\r\n        ...state,\r\n        competitors: {\r\n          ...state.competitors,\r\n          isSetting: false,\r\n          error: action.payload\r\n        }\r\n      };\r\n\r\n    //removing competitors from user's competitor list\r\n    case REMOVE_COMPETITOR_START:\r\n      return {\r\n        ...state,\r\n        competitors: {\r\n          ...state.competitors,\r\n          isSetting: true,\r\n          error: null\r\n        }\r\n      };\r\n    case REMOVE_COMPETITOR_SUCCESS:\r\n      return {\r\n        ...state,\r\n        competitors: {\r\n          businesses: action.payload.favorites.map(business => {\r\n            return {\r\n              id: business.id,\r\n              businessId: business.yelp_id, //default tab selected by default\r\n              // for side bar\r\n              businessName: business.name,\r\n              businessImg: business.image_url,\r\n              // for top-of-page info cards\r\n              reviewCount: 0,\r\n              averageRating: 0,\r\n              changeInRating: \"\"\r\n            };\r\n          }),\r\n          isSetting: false,\r\n          error: null\r\n        }\r\n      };\r\n    case REMOVE_COMPETITOR_FAILURE:\r\n      return {\r\n        ...state,\r\n        competitors: {\r\n          ...state.competitors,\r\n          isSetting: false,\r\n          error: action.payload\r\n        }\r\n      };\r\n\r\n    case SET_ACTIVE_WIDGETS:\r\n      return {\r\n        ...state,\r\n        activeWidgets: action.payload\r\n      };\r\n\r\n    // TopBottomWords\r\n    case FETCH_TOP_AND_BOTTOM_START:\r\n      console.log(\"Fetch top and bottom words start..\");\r\n      return {\r\n        ...state,\r\n        widgetData: {\r\n          ...state.widgetData,\r\n          keyWords: {\r\n            ...state.widgetData.keyWords,\r\n            isFetching: true,\r\n            error: null\r\n          }\r\n        }\r\n      };\r\n    case FETCH_TOP_AND_BOTTOM_SUCCESS:\r\n      console.log(\r\n        \"Successfully fetched top and bottom ten words:\\n\",\r\n        action.payload\r\n      );\r\n      return {\r\n        ...state,\r\n        widgetData: {\r\n          ...state.widgetData,\r\n          keyWords: {\r\n            isFetching: false,\r\n            data: action.payload,\r\n            error: null\r\n          }\r\n        }\r\n      };\r\n    case FETCH_TOP_AND_BOTTOM_FAILURE:\r\n      console.log(\"Fetch top and bottom failure:\\n\", action.payload);\r\n      return {\r\n        ...state,\r\n        widgetData: {\r\n          ...state.widgetData,\r\n          keyWords: {\r\n            ...state.widgetData.keyWords,\r\n            isFetching: false,\r\n            error: action.payload\r\n          }\r\n        }\r\n      };\r\n\r\n    case GET_USER_DATA_START:\r\n      return {\r\n        ...state,\r\n        loggedInUser: {\r\n          ...state.loggedInUser,\r\n          isFetching: true\r\n        }\r\n      };\r\n    case GET_USER_DATA_SUCCESS:\r\n      // action.payload: {\r\n      //   favorites\r\n      //   loggedInUser\r\n      //   businessInfo\r\n      //   activeWidgets\r\n      // }\r\n\r\n      // //only set state if not null\r\n      // let tempFavorites = state.favorites.favorites;\r\n      // if(action.payload.favorites){\r\n      //   tempFavorites = action.payload.favorites;\r\n      // }\r\n\r\n      // let tempLoggedInUser = state.loggedInUser.data\r\n      // if(action.payload.loggedInUser){\r\n      //   tempLoggedInUser = action.payload.loggedInUser;\r\n      // }\r\n\r\n      // let tempBusinessInfo = state.businessInfo.businesses;\r\n      // if(action.payload.businessInfo){\r\n      //   tempBusinessInfo = action.payload.businessInfo;\r\n      // }\r\n\r\n      // let tempActiveWidgets = state.activeWidgets;\r\n      // if(action.payload.activeWidgets){\r\n      //   tempActiveWidgets = action.payload.activeWidgets;\r\n      // }\r\n\r\n      console.log(\"Mapping over competitors\", action.payload.competitors);\r\n      return {\r\n        ...state,\r\n        competitors: {\r\n          ...state.competitors,\r\n          businesses: action.payload.competitors.map(business => {\r\n            return {\r\n              //id: 16\r\n              // name: \"Cartel Coffee Lab\"\r\n              // city: \"Phoenix\"\r\n              // state: \"AZ\"\r\n              // yelp:\r\n              // yelp_id: \"j0_DUr3vBXY-JP-b0bf93A\"\r\n              // url: \"https://www.yelp.com/biz/cartel-coffee-lab-phoenix-2?adjust_creative=qO78hV4p7yy-o3z8K5osow&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=qO78hV4p7yy-o3z8K5osow\"\r\n              // image_url:\r\n              id: business.id,\r\n              businessId: business.yelp.yelp_id, //default tab selected by default\r\n              // for side bar\r\n              businessName: business.name,\r\n              businessImg: business.yelp.image_url,\r\n              // for top-of-page info cards\r\n              reviewCount: 0,\r\n              averageRating: 0,\r\n              changeInRating: \"\"\r\n            };\r\n          }),\r\n          isSetting: false,\r\n          error: null\r\n        },\r\n        loggedInUser: {\r\n          ...state.loggedInUser,\r\n          data: action.payload.loggedInUser,\r\n          isFetching: false\r\n        },\r\n        userBusinesses: {\r\n          ...state.userBusinesses,\r\n          businesses: action.payload.businesses.map(business => {\r\n            return {\r\n              id: business.id,\r\n              businessId: business.yelp.yelp_id, //default tab selected by default\r\n              // for side bar\r\n              businessName: business.name,\r\n              businessImg: business.yelp.image_url,\r\n              // for top-of-page info cards\r\n              reviewCount: 0,\r\n              averageRating: 0,\r\n              changeInRating: \"\"\r\n            };\r\n          }),\r\n          isSetting: false,\r\n          error: null\r\n        },\r\n        activeWidgets: [widgets[0].name, widgets[1].name],\r\n        tabs: {\r\n          ...state.tabs,\r\n          activeTabs: action.payload.activeTabs\r\n        }\r\n      };\r\n\r\n    case UPDATE_LOGGED_IN_USER:\r\n      return {\r\n        ...state,\r\n        loggedInUser: {\r\n          ...state.loggedInUser,\r\n          shouldUpdate: action.payload\r\n        }\r\n      };\r\n\r\n    // Edit Account\r\n    case FETCH_EDITACCOUNT_START:\r\n      return {\r\n        ...state,\r\n        loggedInUser: {\r\n          ...state.loggedInUser,\r\n          isFetching: true,\r\n          error: null\r\n        }\r\n      };\r\n    case FETCH_EDITACCOUNT_SUCCESS: //TODO: update activeWidgets with action.payload.preferences.widgets\r\n      return {\r\n        ...state,\r\n        loggedInUser: {\r\n          data: {\r\n            firstName: action.payload.first_name\r\n              ? action.payload.first_name\r\n              : state.loggedInUser.data.firstName,\r\n            lastName: action.payload.last_name_name\r\n              ? action.payload.last_name\r\n              : state.loggedInUser.data.lastName\r\n          },\r\n          isFetching: false,\r\n          error: null\r\n        }\r\n      };\r\n    case FETCH_EDITACCOUNT_FAILURE:\r\n      return {\r\n        ...state,\r\n        isFetching: false,\r\n        error: action.payload\r\n      };\r\n\r\n    // PhraseRank\r\n    case FETCH_WORDS_OVER_TIME_START:\r\n      return {\r\n        ...state,\r\n        widgetData: {\r\n          ...state.widgetData,\r\n          wordsOverTime: {\r\n            ...state.widgetData.wordsOverTime,\r\n            isFetching: true,\r\n            error: null\r\n          }\r\n        }\r\n      };\r\n    case FETCH_WORDS_OVER_TIME_SUCCESS:\r\n      return {\r\n        ...state,\r\n        widgetData: {\r\n          ...state.widgetData,\r\n\r\n          wordsOverTime: {\r\n            ...state.widgetData.wordsOverTime,\r\n            isFetching: false,\r\n            data: action.payload.data,\r\n            error: null\r\n          }\r\n        }\r\n      };\r\n    case FETCH_WORDS_OVER_TIME_FAILURE:\r\n      return {\r\n        ...state,\r\n        widgetData: {\r\n          ...state.widgetData,\r\n\r\n          wordsOverTime: {\r\n            ...state.widgetData.wordsOverTime,\r\n            isFetching: false,\r\n            error: action.payload\r\n          }\r\n        }\r\n      };\r\n\r\n    // ReviewFrequency\r\n    case FETCH_REVIEWS_OVER_TIME_START:\r\n      return {\r\n        ...state,\r\n        widgetData: {\r\n          ...state.widgetData,\r\n          reviewsOverTime: {\r\n            ...state.widgetData.reviewsOverTime,\r\n            isFetching: true,\r\n\r\n            error: null\r\n          }\r\n        }\r\n      };\r\n    case FETCH_REVIEWS_OVER_TIME_SUCCESS:\r\n      return {\r\n        ...state,\r\n        widgetData: {\r\n          ...state.widgetData,\r\n          reviewsOverTime: {\r\n            ...state.widgetData.reviewsOverTime,\r\n            isFetching: false,\r\n            data: action.payload.data\r\n          }\r\n        }\r\n      };\r\n    case FETCH_REVIEWS_OVER_TIME_FAILURE:\r\n      return {\r\n        ...state,\r\n        widgetData: {\r\n          ...state.widgetData,\r\n          reviewsOverTime: {\r\n            ...state.widgetData.reviewsOverTime,\r\n            isFetching: true,\r\n            data: null,\r\n            error: action.payload\r\n          }\r\n        }\r\n      };\r\n\r\n    // RatingOverTime\r\n    case FETCH_RATING_OVER_TIME_START:\r\n      return {\r\n        ...state,\r\n        widgetData: {\r\n          ...state.widgetData,\r\n          ratingOverTime: {\r\n            ...state.widgetData.ratingOverTime,\r\n            isFetching: true,\r\n            error: null\r\n          }\r\n        }\r\n      };\r\n    case FETCH_RATING_OVER_TIME_SUCCESS:\r\n      return {\r\n        ...state,\r\n        widgetData: {\r\n          ...state.widgetData,\r\n\r\n          ratingOverTime: {\r\n            ...state.widgetData.ratingOverTime,\r\n            isFetching: false,\r\n            data: action.payload.star_data,\r\n            error: null\r\n          }\r\n        }\r\n      };\r\n    case FETCH_RATING_OVER_TIME_FAILURE:\r\n      return {\r\n        ...state,\r\n        widgetData: {\r\n          ...state.widgetData,\r\n\r\n          ratingOverTime: {\r\n            ...state.widgetData.ratingOverTime,\r\n            isFetching: false,\r\n            error: action.payload\r\n          }\r\n        }\r\n      };\r\n\r\n    // Unknown action type (default)\r\n    default:\r\n      console.log(`\\nUnknown action type:\\n${action.type}`);\r\n      return {\r\n        ...state\r\n      };\r\n  }\r\n}\r\n\r\nexport default reducer;\r\n"]},"metadata":{},"sourceType":"module"}