{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\Raudel Flores\\\\Documents\\\\Lambda-School\\\\LABS\\\\tally\\\\tally-ai-fe\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"C:\\\\Users\\\\Raudel Flores\\\\Documents\\\\Lambda-School\\\\LABS\\\\tally\\\\tally-ai-fe\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\Raudel Flores\\\\Documents\\\\Lambda-School\\\\LABS\\\\tally\\\\tally-ai-fe\\\\client\\\\src\\\\components\\\\login.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { shouldUpdateLoggedInUser } from \"../actions/index\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport axios from \"axios\";\nimport GoogleBtn from './googleAuth/GoogleBtn';\nconst useStyles = makeStyles(theme => ({\n  container: {\n    display: 'flex',\n    flexWrap: 'wrap',\n    flexDirection: 'column',\n    alignItems: 'center',\n    marginTop: '10%',\n    marginBottom: '-3%'\n  },\n  textField: {\n    marginLeft: theme.spacing(1),\n    marginRight: theme.spacing(1),\n    width: '60%'\n  },\n  dense: {\n    marginTop: theme.spacing(2)\n  },\n  button: {\n    margin: theme.spacing(1),\n    marginTop: '30px',\n    marginBottom: '30px',\n    width: '12%',\n    backgroundColor: '#1E4DC7'\n  },\n  input: {\n    display: 'none'\n  }\n}));\n\nconst Login = props => {\n  const classes = useStyles();\n\n  const _useState = useState({\n    email: \"\",\n    password: \"\"\n  }),\n        _useState2 = _slicedToArray(_useState, 2),\n        login = _useState2[0],\n        setLogin = _useState2[1];\n\n  const handleChange = e => {\n    setLogin(_objectSpread({}, login, {\n      [e.target.name]: e.target.value\n    }));\n  };\n\n  const handleSubmit = e => {\n    if (!props.isFetching) {\n      e.preventDefault();\n      console.log(login, \"login that was passed\");\n      axios.post(\"https://cors-anywhere.herokuapp.com/http://tallyai.us-east-1.elasticbeanstalk.com/api/auth/login\", login) //swap local host with https://tally-ai.herokuapp.com/api/auth/login\n      .then(res => {\n        console.log(\"Logged in successfully\", res);\n        localStorage.setItem(\"token\", res.data.token);\n        localStorage.setItem(\"userID\", res.data.id);\n        props.shouldUpdateLoggedInUser(true);\n        props.history.push('/dashboard');\n      }).catch(err => {\n        console.log(\"Error logging in\", err);\n      });\n    }\n  };\n\n  useEffect(() => {\n    if (props.loggedInUser) {\n      props.history.push('/settings'); //change to account when made\n    }\n  }, [props.loggedInUser]);\n  return React.createElement(\"div\", {\n    style: {\n      minHeight: \"100vh\",\n      border: \"1px solid #E3F2FD\",\n      background: \"linear-gradient(341.24deg, #B5E4FE 11.16%, #BDF5FF 82.03%)\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    className: classes.container,\n    onSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    style: {\n      height: \"60vh\",\n      width: \"40%\",\n      borderRadius: \"47px\",\n      backgroundColor: \"White\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    style: {\n      paddingTop: \"20px\",\n      fontSize: \"22px\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, \"Log In\")), React.createElement(\"div\", {\n    style: {\n      width: \"100%\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, React.createElement(TextField, {\n    name: \"email\",\n    label: \"Email\",\n    type: \"email\",\n    className: classes.textField,\n    value: login.username,\n    onChange: handleChange,\n    required: true,\n    margin: \"normal\",\n    variant: \"outlined\",\n    placeholder: \"Email\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    style: {\n      width: \"100%\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, React.createElement(TextField, {\n    name: \"password\",\n    label: \"Password\",\n    type: \"password\",\n    className: classes.textField,\n    value: login.password,\n    onChange: handleChange,\n    required: true,\n    margin: \"normal\",\n    variant: \"outlined\",\n    placeholder: \"Password\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  })), React.createElement(Button, {\n    style: {\n      marginTop: \"30px\",\n      backgroundColor: \"#1E4DC7;\",\n      color: \"white\",\n      width: \"40%\"\n    },\n    className: classes.button,\n    variant: \"outlined\",\n    color: \"black\",\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }, \"Login\"), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  }, \"Need an account? \", React.createElement(Link, {\n    style: {\n      padding: \"0\",\n      color: \"black\"\n    },\n    to: \"/Register/\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }, \"Register here\"))), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120\n    },\n    __self: this\n  }, React.createElement(GoogleBtn, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121\n    },\n    __self: this\n  })))));\n};\n\nconst mapStateToProps = state => {\n  return {\n    loggedInUser: state.loggedInUser.userID,\n    isFetching: state.loggedInUser.isFetching,\n    error: state.loggedInUser.error\n  };\n};\n\nexport default connect(mapStateToProps, {\n  shouldUpdateLoggedInUser\n})(Login);","map":{"version":3,"sources":["C:/Users/Raudel Flores/Documents/Lambda-School/LABS/tally/tally-ai-fe/client/src/components/login.js"],"names":["React","useState","useEffect","Link","connect","shouldUpdateLoggedInUser","makeStyles","TextField","Button","axios","GoogleBtn","useStyles","theme","container","display","flexWrap","flexDirection","alignItems","marginTop","marginBottom","textField","marginLeft","spacing","marginRight","width","dense","button","margin","backgroundColor","input","Login","props","classes","email","password","login","setLogin","handleChange","e","target","name","value","handleSubmit","isFetching","preventDefault","console","log","post","then","res","localStorage","setItem","data","token","id","history","push","catch","err","loggedInUser","minHeight","border","background","height","borderRadius","paddingTop","fontSize","username","color","padding","mapStateToProps","state","userID","error"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { shouldUpdateLoggedInUser } from \"../actions/index\";\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nimport axios from \"axios\";\r\n\r\nimport GoogleBtn from './googleAuth/GoogleBtn';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    container: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n        marginTop: '10%',\r\n        marginBottom: '-3%'\r\n    },\r\n    textField: {\r\n        marginLeft: theme.spacing(1),\r\n        marginRight: theme.spacing(1),\r\n        width: '60%'\r\n    },\r\n    dense: {\r\n        marginTop: theme.spacing(2),\r\n    },\r\n    button: {\r\n        margin: theme.spacing(1),\r\n        marginTop: '30px',\r\n        marginBottom: '30px',\r\n        width: '12%',\r\n        backgroundColor: '#1E4DC7'\r\n    },\r\n    input: {\r\n        display: 'none',\r\n    },\r\n}));\r\n\r\nconst Login = props => {\r\n\r\n    const classes = useStyles();\r\n    const [login, setLogin] = useState({ email: \"\", password: \"\" })\r\n\r\n    const handleChange = e => {\r\n        setLogin({ ...login, [e.target.name]: e.target.value })\r\n    }\r\n\r\n    const handleSubmit = e => {\r\n        if (!props.isFetching) {\r\n            e.preventDefault();\r\n            console.log(login, \"login that was passed\")\r\n\r\n            axios\r\n                .post(\"https://cors-anywhere.herokuapp.com/http://tallyai.us-east-1.elasticbeanstalk.com/api/auth/login\", login) //swap local host with https://tally-ai.herokuapp.com/api/auth/login\r\n                .then(res => {\r\n                    console.log(\"Logged in successfully\", res);\r\n                    localStorage.setItem(\"token\", res.data.token);\r\n                    localStorage.setItem(\"userID\", res.data.id);\r\n                    props.shouldUpdateLoggedInUser(true);\r\n                    props.history.push('/dashboard')\r\n                })\r\n                .catch(err => {\r\n                    console.log(\"Error logging in\", err);\r\n                })\r\n\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (props.loggedInUser) {\r\n            props.history.push('/settings')  //change to account when made\r\n        }\r\n    }, [props.loggedInUser]);\r\n\r\n    return (\r\n        <div style={{ minHeight: \"100vh\", border: \"1px solid #E3F2FD\", background: \"linear-gradient(341.24deg, #B5E4FE 11.16%, #BDF5FF 82.03%)\" }}>\r\n            <form className={classes.container} onSubmit={handleSubmit}>\r\n                <div style={{ height: \"60vh\", width: \"40%\", borderRadius: \"47px\", backgroundColor: \"White\" }}>\r\n                    <div style={{ paddingTop: \"20px\", fontSize: \"22px\" }}>\r\n                        <h1>Log In</h1>\r\n                    </div>\r\n                    <div style={{ width: \"100%\" }}>\r\n                        <TextField\r\n                            name=\"email\"\r\n                            label=\"Email\"\r\n                            type=\"email\"\r\n                            className={classes.textField}\r\n                            value={login.username}\r\n                            onChange={handleChange}\r\n                            required\r\n                            margin=\"normal\"\r\n                            variant=\"outlined\"\r\n                            placeholder=\"Email\"\r\n                        />\r\n                    </div>\r\n                    <div style={{ width: \"100%\" }}>\r\n                        <TextField\r\n                            name=\"password\"\r\n                            label=\"Password\"\r\n                            type=\"password\"\r\n                            className={classes.textField}\r\n                            value={login.password}\r\n                            onChange={handleChange}\r\n                            required\r\n                            margin=\"normal\"\r\n                            variant=\"outlined\"\r\n                            placeholder=\"Password\"\r\n                        />\r\n                    </div>\r\n                    <Button style={{ marginTop: \"30px\", backgroundColor: \"#1E4DC7;\", color: \"white\", width: \"40%\" }} className={classes.button} variant=\"outlined\" color=\"black\" type=\"submit\">Login</Button>\r\n                    <div>\r\n                        <p>\r\n                            Need an account? <Link style={{padding: \"0\", color: \"black\"}} to='/Register/'>Register here</Link>\r\n                        </p>\r\n                    </div>\r\n                    <div>\r\n                        <GoogleBtn />\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        loggedInUser: state.loggedInUser.userID,\r\n        isFetching: state.loggedInUser.isFetching,\r\n        error: state.loggedInUser.error\r\n    };\r\n};\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    { shouldUpdateLoggedInUser }\r\n)(Login)\r\n"]},"metadata":{},"sourceType":"module"}